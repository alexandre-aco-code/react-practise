<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>
        //version6 de javascript (sortie en 2015)

        function a(){

        }

        // méthode classiqued e créer des fonctions

        const b = function(){}

        // crééer une variable b et stocker dedans une fonction anonyme

        // nouvelle manière de faire des fonctions
        // fonction fléchée // arrow

        // remarque, si 0 paramètres on doit mettre les ()
        
        const c = () => {};

        // si 1 paramètres, les () sont facultatives

        const e = largeur => {}

        // si 2 paramètres ou +, les () redeviennent obligatoires

        const g = (largeur, hauteur) => {}

        // par défaut si la fonction flechée contient 1 seule instruction elle fait automatiquement un return et pas besoin de mettre des {}

        const h = largeur => console.log(largeur)

        let i = (chiffre1 , chiffre2) => chiffre1 + chiffre2;
        console.log(i(1,2));

        function test(b) {
            console.log("action1");
            b();
        }

        // test(function(){
        //     console.log("callback");
        // })

        test(() => {
            console.log("Je suis une arrow function");
        })

        // créer un tableau
        let l = [ 1, 2 ,3 ];

        //parcourir un tableau plusieurs techniques

        // for, While, forEach => méthodes classiques

        // méthode sur l'objet array : tableau.forEach( callback )
        l.forEach(item => console.log(item))

        // idem, map()
        // le callback en map doit forcément retourner qqch

        let resultat = l.map(item => item);
        console.log(resultat);

        // avantage de la méthode map(), ca transforme un tableau en un autre

        // exo rapide pour avoir un tableau enrichi
        // tableau origine [1,2,3]
        // tableau enrichi par map() ["<li>1</li>", "<li>2</li>", "<li>3</li>"]

        let tableauEnrichi = [1,2,3].map(item => "<li>" + item + "</li>");

        console.log(tableauEnrichi);

        // filter tout mon tableau sauf le 2, et l'enrichir ensuite
        // programmation fonctionnelle

        let t = [1,2,3].filter(item => { if(item == 2) return item }).map( item => "<p>" + item + "</p>");

        console.log(t);

        // destructuration

        let person = {
            nom : "Pierre",
            hello : function(){
                console.log("bonjour");
            },
            salut(){
                console.log("au revoir");
            }
        };

        console.log(person.nom);
        person.hello();

        let {nom, salut} = person; // équivalent extract en php

        salut();
        console.log(nom);

        function calcul ( objet ) {
            let resultat = objet.largeur * objet.hauteur;
            console.log(resultat);
        }

        //destructuration
        function calcul2 ({largeur, hauteur}) {
            let resultat =largeur * hauteur;
            console.log(resultat);
        }

        let o = {largeur : 12, hauteur: 30};
        calcul2 (o);


        
    </script>
    
</body>
</html>