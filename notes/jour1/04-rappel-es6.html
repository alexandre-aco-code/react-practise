<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <script>

        //1ère section => let et const obligé ca vérifie que c'est pas déjà déclaré

        // let a = 12;

        // function a(){
        //     return "bonjour";
        // }

        //2 objet

        // let voiture = {
        //     marque : "Peugeot", // ppté
        //     bruit : function(){ // méthode
        //         console.log("vroum");
        //     },
        //     info() {
        //         console.log("je suis une caisse");
        //     }
        // }

        // voiture.bruit();

        // let action = "info";
        // // voiture["info"]();
        // voiture[action](); // utile pour les formulaires React

        //3 this => renvoie à l'instance qui appelle la fonction

        let person = {
            nom : "Alain",
            description(){
                console.log(this);
                console.log( this.nom + " est mon nom");
            },
            description2 : function() {
                setTimeout( () => {
                    console.log(this.nom);
                }, 100 );
            }
        }

        person.description();

        let phrase = person.description ; // evenement dans react, on stocke la fonction, on l'execute pas c'est pour ca qu'on met pas les ()
        console.log(phrase);

        phrase(); // this.nom => undefinded au lieu de Alain
        // this = window qui ne possède pas de propriété nom
        // => perte de contexte pour le mot clef this
        // 2 manières pour redonner un contexte :
        // - on la bind au moment ou on crée la variable qui contient la fonction
        let phrase2 = person.description.bind(person);

        phrase2();
        // - on fait une arrow fonction (voir ligne 46)

        person.description2();





    </script>
</body>
</html>